(this["webpackJsonpneighborhood-dashboard"]=this["webpackJsonpneighborhood-dashboard"]||[]).push([[0],{43:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a(35),c=a.n(n),s=a(19),o=a(31),i=a(15),l=(a(43),a(36)),d=a(37),j=a(2),u=function(e){var t=e.tableData;console.log({tableData:t});var a=Object(r.useState)([]),n=Object(i.a)(a,2),c=n[0],s=n[1];return Object(r.useEffect)((function(){!function(){var e,a=(new Date).toLocaleDateString(),r=[],n=Object(l.a)(t);try{for(n.s();!(e=n.n()).done;)e.value.map((function(e){var t=new Date(a),n=new Date(e.dateOfVisit);return n.getDate()===t.getDate()&&n.getMonth()===t.getMonth()&&n.getFullYear()===t.getFullYear()&&r.push(e),s(r),r}))}catch(c){n.e(c)}finally{n.f()}}()}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{striped:!0,bordered:!0,hover:!0,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"#"}),Object(j.jsx)("th",{children:"Resident Name"}),Object(j.jsx)("th",{children:"Visitor Name"}),Object(j.jsx)("th",{children:"Date of Visit"}),Object(j.jsx)("th",{children:"Time of Visit"}),Object(j.jsx)("th",{children:"Access Pass"})]})}),Object(j.jsx)("tbody",{children:c.map((function(e,t){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:t+1}),Object(j.jsx)("td",{children:e.resident}),Object(j.jsx)("td",{children:e.visitor}),Object(j.jsx)("td",{children:e.dateOfVisit}),Object(j.jsx)("td",{children:e.time}),Object(j.jsx)("td",{children:e.code})]},t)}))})]})})},b=a(18),h=a.n(b),O=a(21),p=a(11),x=a(23),m=a(25),f=(a(55),a(47),function(){var e=Object(O.a)(h.a.mark((function e(t){var a,r,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return a=g.doc("users/".concat(t.uid)),e.next=5,a.get();case 5:if(e.sent.exists){e.next=17;break}return r=t.email,n=new Date,e.prev=9,e.next=12,a.set({email:r,createdAt:n});case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("Error Creating User",e.t0.message);case 17:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t){return e.apply(this,arguments)}}());m.a.initializeApp({apiKey:"AIzaSyASCWZgSSU0l4QHN6w5Riub9rr9eWv-KEo",authDomain:"neighborhood-37985.firebaseapp.com",projectId:"neighborhood-37985",storageBucket:"neighborhood-37985.appspot.com",messagingSenderId:"913159918679",appId:"1:913159918679:web:d822b1d8a61e3a79a1bf12"});var g=m.a.firestore(),v=m.a.auth(),w=g,y=a(9),S=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)({}),b=Object(i.a)(u,2),m=(b[0],b[1]),g=Object(y.g)(),w=function(e){var t=e.target,a=t.name,r=t.value;"userEmail"===a?n(r):"userPassword"===a&&d(r)},S=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v.createUserWithEmailAndPassword(a,l).then((function(e){var t=e.user;f(t),console.log(t),localStorage.setItem("user",JSON.stringify(t)),m(t),g.push("/")})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{width:"30%",margin:"0 auto",border:"1px solid grey",padding:"15px"},children:[Object(j.jsxs)("p",{children:["Already have an account? ",Object(j.jsx)(s.b,{to:"/login",children:"Login"})]}),Object(j.jsxs)(p.a,{children:[Object(j.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(j.jsx)(p.a.Label,{children:"Email address"}),Object(j.jsx)(p.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return w(e)},name:"userEmail"}),Object(j.jsx)(p.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(j.jsxs)(p.a.Group,{controlId:"formBasicPassword",children:[Object(j.jsx)(p.a.Label,{children:"Password"}),Object(j.jsx)(p.a.Control,{type:"password",placeholder:"Password",name:"userPassword",value:l,onChange:function(e){return w(e)}})]}),Object(j.jsx)(x.a,{variant:"primary",type:"submit",onClick:S,children:"Sign Up"})]})]})},E=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),o=Object(i.a)(c,2),l=o[0],d=o[1],u=Object(r.useState)({}),b=Object(i.a)(u,2),m=(b[0],b[1]),f=Object(y.g)(),g=function(e){var t=e.target,a=t.name,r=t.value;"userEmail"===a?n(r):"userPassword"===a&&d(r)},w=function(){var e=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),v.signInWithEmailAndPassword(a,l).then((function(e){var t=e.user;console.log(t),localStorage.setItem("user",JSON.stringify(t.uid)),m(t),f.push("/")})).catch((function(e){var t=e.code,a=e.message;console.log(t,a)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{style:{width:"30%",margin:"0 auto",border:"1px solid grey",padding:"15px"},children:[Object(j.jsxs)("p",{children:["Don't have an account? ",Object(j.jsx)(s.b,{to:"/signup",children:"SignUp"})]}),Object(j.jsxs)(p.a,{children:[Object(j.jsxs)(p.a.Group,{controlId:"formBasicEmail",children:[Object(j.jsx)(p.a.Label,{children:"Email address"}),Object(j.jsx)(p.a.Control,{type:"email",placeholder:"Enter email",onChange:function(e){return g(e)},name:"userEmail"}),Object(j.jsx)(p.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(j.jsxs)(p.a.Group,{controlId:"formBasicPassword",children:[Object(j.jsx)(p.a.Label,{children:"Password"}),Object(j.jsx)(p.a.Control,{type:"password",placeholder:"Password",name:"userPassword",value:l,onChange:function(e){return g(e)}})]}),Object(j.jsx)(x.a,{variant:"primary",type:"submit",onClick:w,children:"Login"})]})]})};function D(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],n=t[1];return Object(r.useEffect)((function(){w.collection("Access Pass").get().then((function(e){var t=e.docs.map((function(e){return e.data().requestDetails})).filter((function(e){return 0!==e.length}));n(t)}))}),[]),Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("h1",{children:"Neighborhood Access Pass Dashboard"}),Object(j.jsx)("h2",{style:{marginBottom:"30px"},children:"Click on Each Resident name to view their requests"}),Object(j.jsxs)(y.d,{children:[Object(j.jsx)(y.b,{exact:!0,path:"/signup",component:S}),Object(j.jsx)(y.b,{exact:!0,path:"/login",component:E}),Object(j.jsx)(y.b,{exact:!0,path:"/",render:function(e){return localStorage.getItem("user")?Object(j.jsx)(u,Object(o.a)(Object(o.a)({},e),{},{tableData:a})):Object(j.jsx)(y.a,{to:"/signup"})}})]})]})}var P=document.getElementById("root");c.a.render(Object(j.jsx)(r.StrictMode,{children:Object(j.jsx)(s.a,{children:Object(j.jsx)(D,{})})}),P)}},[[54,1,2]]]);
//# sourceMappingURL=main.84d932f7.chunk.js.map